// Import partials
@import 'base.normalize';
@import 'settings.variables';

// media queries
@mixin tablet {
  @media screen and (max-width: 860px) { @content; }
  }

@mixin mobile() {
  @media screen and (max-width: 567px) { @content; }
  }

* {
  margin: 0;
  padding: 0;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}

// parent stories section
.Stories {
  width: 90%;
  margin: 0 auto;
  max-width: 80rem;

  &__title {
    font-size: $title;
    font-family: $sans-serif;
    font-weight: $light;
    color: $changes-blue;
    text-align: center;
    margin: 2rem 0rem 1rem;
    
    &__cols {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-wrap: wrap;
          flex-wrap: wrap;
      -webkit-box-pack: center;
          -ms-flex-pack: center;
              justify-content: center;

      &__col {
        width: calc(33% - 2rem);
        margin: 1rem;
        cursor: pointer;

        @include tablet {
          width: calc(50% - 2rem);
        }

        @include mobile {
          width: 100%;
          margin: 0 0 2rem 0;
        }

        &__container {
          -webkit-transform-style: preserve-3d;
                  transform-style: preserve-3d;
          -webkit-perspective: 1000px;
                  perspective: 1000px;
        
          &__front,
          &__back{
            background-size: cover;
            box-shadow: 0 4px 8px 0 $gray;
            border-radius: 10px;
            background-position: center;
            -webkit-transition: -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            -o-transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1), -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            text-align: center;
            min-height: 320px;
            height: auto;
            border-radius: 10px;
            color: $white;
            font-size: 1.2rem;
          }
        
          &__back {
            background: $lt-orange;
            background: -webkit-linear-gradient(45deg, $lt-orange 0%,$orange 100%);
            background: -o-linear-gradient(45deg, $lt-orange 0%,$orange 100%);
            background: linear-gradient(45deg, $lt-orange 0%, $orange 100%);
          }
        
          &__front:after {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            width: 100%;
            height: 100%;
            content: '';
            display: block;
            opacity: .4;
            background-color: $dark-gray;
            -webkit-backface-visibility: hidden;
                    backface-visibility: hidden;
            border-radius: 10px;
          }
        
          &:hover 
          &__front,
          &:hover 
          &__back {
            -webkit-transition: -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            -o-transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
            transition: transform .7s cubic-bezier(0.4, 0.2, 0.2, 1), -webkit-transform .7s cubic-bezier(0.4, 0.2, 0.2, 1);
          }
        
          &__back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
          }
        
          &__front__inner {
            -webkit-transform: translateY(-50%) translateZ(60px) scale(0.94);
            transform: translateY(-50%) translateZ(60px) scale(0.94);
            top: 50%;
            position: absolute;
            left: 0;
            width: 100%;
            // padding: 1rem;
            -webkit-box-sizing: border-box;
                    box-sizing: border-box;
            outline: 1px solid transparent;
            -webkit-perspective: inherit;
                    perspective: inherit;
            z-index: 2;
          }
        
          .Stories__title__cols__col__container 
          &__back {
            -webkit-transform: rotateY(180deg);
                    transform: rotateY(180deg);
            -webkit-transform-style: preserve-3d;
                    transform-style: preserve-3d;
          }
        
          .Stories__title__cols__col__container 
          &__front {
            -webkit-transform: rotateY(0deg);
                    transform: rotateY(0deg);
            -webkit-transform-style: preserve-3d;
                    transform-style: preserve-3d;
          }
        
          &:hover 
          &__back {
            -webkit-transform: rotateY(0deg);
                    transform: rotateY(0deg);
            -webkit-transform-style: preserve-3d;
                    transform-style: preserve-3d;
          }
        
          &:hover
          &__front {
            -webkit-transform: rotateY(-180deg);
                    transform: rotateY(-180deg);
            -webkit-transform-style: preserve-3d;
                    transform-style: preserve-3d;
          }
        
          &__front
          &__front__inner 
          &__front__inner__p {
            background-color: $changes-blue;
            opacity: .8;
            color: $white;
            font-family: $sans-serif;
            font-size: 1.8rem;
            font-weight: $light;
            margin-top: 12rem;
            padding: .5rem 1rem .5rem;
            position: relative;
          }
        
          &__back 
          &__back__inner 
          &__back__inner__p {
            color: $white;
            font-family: $sans-serif;
            font-weight: $light;
            font-size: 1.1rem;
            line-height: 1.6rem;
            margin-top: .5rem;
            padding: 1rem 2rem 0rem; 
            position: relative;
          }
        }
      }
    }
  }
}